(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{2572:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(3365),l=s(1521),o=s(8217),r=s(9838);let n="radeon";function i(e){let{children:t}=e,[s,o]=(0,l.useState)(!1),[r,i]=(0,l.useState)(""),[c,d]=(0,l.useState)(""),[m,u]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{localStorage.getItem("thrifters_auth")===n&&o(!0),u(!1)},[]),m)?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-slate-900",children:(0,a.jsx)("div",{className:"bg-slate-800 p-8 rounded-md shadow-md text-slate-100",children:"Loading..."})}):s?t:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-slate-900 p-4",children:(0,a.jsxs)("div",{className:"bg-slate-800 p-8 rounded-md shadow-md w-full max-w-md",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-100 mb-3",children:"Password Required"}),(0,a.jsx)("div",{className:"text-slate-300 text-base mb-6",children:"This page requires a password to access."}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r===n?(localStorage.setItem("thrifters_auth",n),o(!0),d("")):d("Incorrect password.")},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-300 mb-1",children:"Password"}),(0,a.jsx)("input",{type:"password",id:"password",value:r,onChange:e=>i(e.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),c&&(0,a.jsx)("div",{className:"text-red-400 text-sm",children:"Incorrect password."}),(0,a.jsx)("div",{className:"pt-2",children:(0,a.jsx)("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium p-2 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Login"})})]})]})})}var c=s(804),d=s(6473);function m(){let[e,t]=(0,l.useState)(""),[s,n]=(0,l.useState)(!1),[i,m]=(0,l.useState)(null),[u,x]=(0,l.useState)(""),[h,b]=(0,l.useState)(!1),[p,g]=(0,l.useState)(""),[f,y]=(0,l.useState)(null),[v,N]=(0,l.useState)(""),[j,w]=(0,l.useState)(""),[S,k]=(0,l.useState)(""),[C,P]=(0,l.useState)(!1),[O,A]=(0,l.useState)([]),[E,T]=(0,l.useState)("gpt-5-mini"),[B,_]=(0,l.useState)(!1),[I,L]=(0,l.useState)(!1),[D,F]=(0,l.useState)(""),[z,R]=(0,l.useState)(!1),[J,U]=(0,l.useState)(""),[G,H]=(0,l.useState)(!1),[X,q]=(0,l.useState)(""),{item:M,setItem:W}=(0,d.H)("settings","user-preferences"),[K,Q]=(0,l.useState)("");(0,l.useEffect)(()=>{(0,o.vv)()&&(n(!0),t("*".repeat(20)));let e=(0,o._9)();m(e),e&&x(JSON.stringify(e,null,2)),V(),Y()},[]),(0,l.useEffect)(()=>{M&&Q(JSON.stringify(M,null,2))},[M]);let V=async()=>{try{let e=(0,o._9)();if(!e||!e.access_token)return void g("No eBay token found");let t=e.access_token,s=await fetch("/api/ebay/analytics",{headers:{Authorization:"Bearer ".concat(t)}}),a=await s.json();s.ok?g(JSON.stringify(a,null,2)):g("Error: ".concat(a.error||"Failed to fetch analytics"))}catch(e){g("Error: ".concat(e.message))}},Y=async()=>{_(!0);try{let e=await fetch("/api/ai/models"),t=await e.json();if(t.success){let e=t.data.sort((e,t)=>e.id.localeCompare(t.id));A(e)}}catch(e){console.error("Failed to fetch AI models:",e)}finally{_(!1)}},Z=async()=>{if(!v.trim())return void alert("Please enter a prompt");P(!0),k("");try{let e=await fetch("/api/ai/responses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:v,imageUrl:j.trim()||void 0,model:E})}),t=await e.json();t.success?k(t.data.response):k("Error: ".concat(t.error))}catch(e){k("Error: ".concat(e.message))}finally{P(!1)}},$=async()=>{if(confirm("Create default eBay business policies?\n\nThis will create:\n- Fulfillment Policy (shipping)\n- Payment Policy\n- Return Policy\n\nOnly works in SANDBOX environment.")){L(!0),F("");try{let e=(0,o._9)();if(!e||!e.access_token)return void F("Error: No eBay token found");let t=e.access_token,s=await fetch("/api/ebay/policies/create-defaults",{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}}),a=await s.json();a.success?F("Success! Policies created.\n\n"+a.logs.join("\n")):F("Error: ".concat(a.error,"\n\n").concat(a.logs?a.logs.join("\n"):""))}catch(e){F("Error: ".concat(e.message))}finally{L(!1)}}},ee=async()=>{if(confirm("⚠️ DELETE ALL POLICIES?\n\nThis will permanently delete ALL business policies from your SANDBOX account:\n- All Fulfillment Policies\n- All Payment Policies\n- All Return Policies\n\nThis action cannot be undone.\n\nAre you sure?")){R(!0),U("");try{let e=(0,o._9)();if(!e||!e.access_token)return void U("Error: No eBay token found");let t=e.access_token,s=await fetch("/api/ebay/policies/delete-all",{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}}),a=await s.json();a.success?U("Success! Deleted ".concat(a.totalDeleted," policies.\n\n")+a.logs.join("\n")):U("Error: ".concat(a.error,"\n\n").concat(a.logs?a.logs.join("\n"):""))}catch(e){U("Error: ".concat(e.message))}finally{R(!1)}}},et=async()=>{H(!0),q("");try{let e=(0,o._9)();if(!e||!e.access_token)return void q("Error: No eBay token found");let t=e.access_token,s=await fetch("/api/ebay/policies/debug",{headers:{Authorization:"Bearer ".concat(t)}}),a=await s.json();s.ok?q(JSON.stringify(a,null,2)):q("Error: ".concat(a.error||"Failed to fetch debug policies"))}catch(e){q("Error: ".concat(e.message))}finally{H(!1)}},es=()=>"localStorage"===f?{title:"Clear LocalStorage",message:"Are you sure you want to clear ALL localStorage data?\n\nThis will remove all saved settings, tokens, and cached data.",confirmText:"Clear All"}:{title:"",message:"",confirmText:"Confirm"};return(0,a.jsxs)("div",{className:"min-h-screen bg-slate-900 p-8",children:[(0,a.jsxs)("div",{className:"max-w-4xl mx-auto bg-slate-800 rounded-lg p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Config"}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"GitHub Token"}),(0,a.jsx)("input",{type:"password",value:e,onChange:e=>t(e.target.value),placeholder:s?"Set":"Enter token",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,a.jsx)("button",{onClick:()=>{if(!e||e.startsWith("*"))return void alert("Please enter a valid token");(0,o.NG)(e),n(!0),alert("Token saved"),t("*".repeat(20))},className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium",children:"Save"}),s&&(0,a.jsx)("button",{onClick:()=>{confirm("Remove token?")&&((0,o.NG)(null),n(!1),t(""),alert("Token removed"))},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md text-sm font-medium",children:"Clear"})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"eBay Auth Token"}),(null==i?void 0:i.username)&&(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("span",{className:"text-slate-400 text-sm",children:"Username: "}),(0,a.jsx)("span",{className:"text-white text-sm",children:i.username})]}),(0,a.jsx)("textarea",{value:h?u:"•".repeat(40),onChange:e=>x(e.target.value),placeholder:"Paste eBay auth token JSON here",className:"w-full h-32 px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white text-sm font-mono resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,a.jsx)("button",{onClick:()=>b(!h),className:"px-4 py-2 bg-slate-600 hover:bg-slate-500 text-white rounded-md text-sm font-medium",children:h?"Hide":"Show"}),(0,a.jsx)("button",{onClick:()=>{try{let e=JSON.parse(u);(0,o.O5)(e),m(e),alert("eBay token saved")}catch(e){alert("Invalid JSON: "+e.message)}},className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium",children:"Save"}),(0,a.jsx)("button",{onClick:()=>{u&&(navigator.clipboard.writeText(u),alert("eBay token copied to clipboard"))},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md text-sm font-medium",children:"Copy"}),i&&(0,a.jsx)("button",{onClick:()=>{confirm("Remove eBay auth token?")&&((0,o.O5)(null),m(null),x(""),alert("eBay token removed"))},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md text-sm font-medium",children:"Clear"})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"User Settings (Backup/Restore)"}),(0,a.jsx)("p",{className:"text-slate-400 text-xs mb-2",children:"Export your settings to backup your AI prompts and preferences, or import settings from another account."}),(0,a.jsx)("textarea",{value:K,onChange:e=>Q(e.target.value),placeholder:"Paste settings JSON here",className:"w-full h-32 px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white text-sm font-mono resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,a.jsx)("button",{onClick:()=>{try{let e=JSON.parse(K);W(e),alert("Settings saved successfully")}catch(e){alert("Invalid JSON: "+e.message)}},className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium",children:"Save"}),(0,a.jsx)("button",{onClick:()=>{K&&(navigator.clipboard.writeText(K),alert("Settings copied to clipboard"))},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md text-sm font-medium",children:"Copy"}),M&&(0,a.jsx)("button",{onClick:()=>{confirm("Remove all settings? This will delete all your AI prompts, category instructions, and preferences.")&&(W(null),Q(""),alert("Settings removed"))},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md text-sm font-medium",children:"Clear"})]})]}),(0,a.jsxs)("div",{className:"pt-6 border-t border-slate-600",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white mb-3",children:"eBay Rate Limiting"}),(0,a.jsx)("textarea",{value:p,readOnly:!0,className:"w-full h-20 px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white text-sm font-mono resize-none"}),(0,a.jsx)("button",{onClick:V,className:"mt-2 w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium",children:"Refresh Rate Limits"})]}),(0,a.jsxs)("div",{className:"pt-6 border-t border-slate-600",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white mb-3",children:"eBay Policies"}),(0,a.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Create or delete business policies for testing (SANDBOX only)."}),(0,a.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,a.jsx)("button",{onClick:$,disabled:I||z,className:"flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-slate-600 disabled:cursor-not-allowed text-white rounded-md text-sm font-medium",children:I?"Creating Policies...":"Create Default Policies"}),(0,a.jsx)("button",{onClick:ee,disabled:I||z,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-slate-600 disabled:cursor-not-allowed text-white rounded-md text-sm font-medium",children:z?"Deleting Policies...":"Delete All Policies"})]}),D&&(0,a.jsx)("textarea",{value:D,readOnly:!0,className:"w-full h-64 px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white text-sm font-mono resize-none mb-4"}),J&&(0,a.jsx)("textarea",{value:J,readOnly:!0,className:"w-full h-64 px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white text-sm font-mono resize-none"})]}),(0,a.jsxs)("div",{className:"pt-6 border-t border-slate-600",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white mb-3",children:"Debug: Fetch Full Policy Details"}),(0,a.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Fetch and inspect the full policy structure from eBay (including all shipping rates, conditions, etc). Use this to see what data eBay returns so you can create preset templates."}),(0,a.jsx)("button",{onClick:et,disabled:G,className:"w-full px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-slate-600 disabled:cursor-not-allowed text-white rounded-md text-sm font-medium mb-4",children:G?"Fetching Policies...":"Fetch Full Policy Details"}),X&&(0,a.jsx)("textarea",{value:X,readOnly:!0,className:"w-full h-96 px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white text-sm font-mono resize-none"})]}),(0,a.jsxs)("div",{className:"pt-6 border-t border-slate-600",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white mb-3",children:"Cache Management"}),(0,a.jsx)("button",{onClick:()=>y("localStorage"),className:"w-full px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md text-sm font-medium",children:"Clear All LocalStorage"})]}),(0,a.jsxs)("div",{className:"pt-6 border-t border-slate-600",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white mb-3",children:"AI Test"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Model"}),(0,a.jsx)("select",{value:E,onChange:e=>T(e.target.value),disabled:B,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:O.map(e=>(0,a.jsx)("option",{value:e.id,children:e.id},e.id))})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Prompt"}),(0,a.jsx)("textarea",{value:v,onChange:e=>N(e.target.value),placeholder:"Enter your prompt here...",className:"w-full h-24 px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white placeholder-slate-400 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Image URL (optional)"}),(0,a.jsx)("input",{type:"text",value:j,onChange:e=>w(e.target.value),placeholder:"https://example.com/image.jpg",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsx)("button",{onClick:Z,disabled:C,className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-600 disabled:cursor-not-allowed text-white rounded-md text-sm font-medium mb-4",children:C?"Processing...":"Test AI"}),S&&(0,a.jsxs)("div",{className:"mt-4 p-4 bg-slate-700 border border-slate-600 rounded-md",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-slate-300 mb-2",children:"Response:"}),(0,a.jsx)("div",{className:"prose prose-invert prose-sm max-w-none",children:(0,a.jsx)(c.oz,{children:S})})]})]})]}),f&&(0,a.jsx)(r.A,{isOpen:!0,onClose:()=>y(null),onConfirm:()=>{"localStorage"===f&&(localStorage.clear(),alert("All localStorage data cleared")),y(null)},title:es().title,message:es().message,type:"confirm",confirmText:es().confirmText,cancelText:"Cancel"})]})}function u(){return(0,a.jsx)(i,{children:(0,a.jsx)(m,{})})}},2910:(e,t,s)=>{Promise.resolve().then(s.bind(s,2572))}},e=>{e.O(0,[804,840,347,508,358],()=>e(e.s=2910)),_N_E=e.O()}]);