(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{64:(e,t,a)=>{Promise.resolve().then(a.bind(a,7175))},7175:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(3365),n=a(1521),s=a(4363),r=a(9838),o=a(763);function c(){let{authToken:e,githubToken:t,setAuthToken:a,setGithubToken:o}=(0,s.m1)(),{setSyncData:c}=(0,s.Cd)(),[i,d]=(0,n.useState)(""),[u,m]=(0,n.useState)(!1),[h,x]=(0,n.useState)(""),[b,g]=(0,n.useState)(""),[f,y]=(0,n.useState)(null);(0,n.useEffect)(()=>{t&&(m(!0),d("*".repeat(20))),e&&x(JSON.stringify(e,null,2)),p()},[t,e]);let p=async()=>{try{if(!e||!e.access_token)return void g("No eBay token found");let t=e.access_token,a=await fetch("/api/ebay/analytics?token=".concat(encodeURIComponent(t))),l=await a.json();a.ok?g(JSON.stringify(l,null,2)):g("Error: ".concat(l.error||"Failed to fetch analytics"))}catch(e){g("Error: ".concat(e.message))}},v=()=>{switch(f){case"cache":return{title:"Clear eBay Inventory Cache",message:"Are you sure you want to clear the eBay inventory cache?\\n\\nAll cached items will be removed and need to be fetched again.",confirmText:"Clear Cache"};case"auth":return{title:"Clear eBay Authentication",message:"Are you sure you want to clear eBay authentication?\\n\\nYou will need to log in again to access eBay services.",confirmText:"Clear Auth"};case"localStorage":return{title:"Clear LocalStorage",message:"Are you sure you want to clear ALL localStorage data?\\n\\nThis will remove all saved settings, tokens, and cached data.",confirmText:"Clear All"};default:return{title:"",message:"",confirmText:"Confirm"}}};return(0,l.jsx)("div",{className:"min-h-screen bg-slate-900 p-8",children:(0,l.jsxs)("div",{className:"max-w-md mx-auto bg-slate-800 rounded-lg p-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Config"}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Token"}),(0,l.jsx)("input",{type:"password",value:i,onChange:e=>d(e.target.value),placeholder:u?"Set":"Enter token",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,l.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,l.jsx)("button",{onClick:()=>{if(!i||i.startsWith("*"))return void alert("Please enter a valid token");o(i),m(!0),alert("Token saved"),d("*".repeat(20))},className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium",children:"Save"}),u&&(0,l.jsx)("button",{onClick:()=>{confirm("Remove token?")&&(o(null),m(!1),d(""),alert("Token removed"))},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md text-sm font-medium",children:"Clear"})]}),(0,l.jsxs)("div",{className:"pt-4 border-t border-slate-600",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-white mb-3",children:"eBay Authentication"}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Auth Token JSON"}),(0,l.jsx)("textarea",{value:h,onChange:e=>x(e.target.value),placeholder:"Paste eBay auth JSON here...",className:"w-full h-32 px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white text-sm font-mono resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,l.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,l.jsx)("button",{onClick:()=>{if(!h.trim())return void alert("Please enter eBay auth JSON");try{let e=JSON.parse(h);if(!e.access_token)return void alert("Invalid auth JSON - missing access_token");a(e),alert("eBay auth token saved successfully")}catch(e){alert("Invalid JSON: ".concat(e.message))}},className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium",children:"Save Auth"}),(0,l.jsx)("button",{onClick:()=>{x(""),a(null),alert("eBay auth cleared")},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md text-sm font-medium",children:"Clear"})]})]}),(0,l.jsx)("div",{className:"pt-4 border-t border-slate-600",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("button",{onClick:()=>y("cache"),className:"w-full px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-md text-sm font-medium",children:"Clear eBay Inventory Cache"}),(0,l.jsx)("button",{onClick:()=>y("auth"),className:"w-full px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-md text-sm font-medium",children:"Clear eBay Authentication"}),(0,l.jsx)("button",{onClick:()=>y("localStorage"),className:"w-full px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md text-sm font-medium",children:"Clear LocalStorage"})]})}),(0,l.jsxs)("div",{className:"pt-4 border-t border-slate-600",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-white mb-3",children:"eBay Analytics"}),(0,l.jsx)("textarea",{value:b,readOnly:!0,className:"w-full h-32 px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white text-sm font-mono resize-none",placeholder:"Loading analytics..."}),(0,l.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,l.jsx)("button",{onClick:p,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium",children:"Refresh"}),(0,l.jsx)("button",{onClick:()=>{if(!e||!e.access_token)return void alert("No eBay token found");let t=e.access_token,a="/api/ebay/categories?token=".concat(encodeURIComponent(t));window.open(a,"_blank")},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md text-sm font-medium",children:"Test Categories API"})]})]}),(0,l.jsx)(r.A,{isOpen:!!f,onClose:()=>y(null),onConfirm:()=>{switch(f){case"cache":c({lastSynced:null,rawListings:{}}),alert("eBay inventory cache cleared");break;case"auth":a(null),alert("eBay authentication cleared");break;case"localStorage":localStorage.clear(),alert("All localStorage data cleared")}y(null)},title:v().title,message:v().message,type:"confirm",confirmText:v().confirmText,cancelText:"Cancel"})]})})}function i(){return(0,l.jsx)(o.A,{children:(0,l.jsx)(c,{})})}}},e=>{e.O(0,[742,347,508,358],()=>e(e.s=64)),_N_E=e.O()}]);